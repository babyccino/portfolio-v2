---
import { getCollection } from "astro:content"
import Layout from "../../layouts/Layout.astro"
const experience = await getCollection("experience")

const formatDate = (date: Date) => {
  const d = new Date(date)
  return `${d.toLocaleString("default", { month: "long" })} ${d.getFullYear()}`
}
---

<Layout title="Gus Ryan - Experience">
  <main id="experience" class="flex flex-col min-h-screen justify-center pl-24">
    <ul class="space-y-4">
      {
        experience.map(entry => (
          <li class="peer peer-hover:opacity-50 relative hover:bg-slate-400 hover:bg-opacity-15 rounded-xl p-4 transition">
            <a class="block" href={`/portfolio/experience/${entry.slug}`}>
              <h3 class="text-md text-gray-200">{entry.data.title}</h3>
              <p class="text-sm text-gray-600">{entry.data.company}</p>
              <p class="text-sm text-gray-600 mt-1 font-medium">{formatDate(entry.data.started)}</p>
              <p class="text-sm text-gray-400">{entry.data.location}</p>
              <p class="text-sm text-gray-400 mt-1">{entry.data.content}</p>
            </a>
          </li>
        ))
      }
    </ul>
  </main>
</Layout>
