@keyframes paths {
  0% {
    clip-path: none;
  }
  5% {
    clip-path: polygon(
      0% 29%,
      44% 29%,
      44% 83%,
      94% 83%,
      94% 56%,
      11% 56%,
      11% 64%,
      94% 64%,
      94% 70%,
      88% 70%,
      88% 32%,
      18% 32%,
      18% 96%,
      10% 96%,
      10% 62%,
      9% 62%,
      9% 84%,
      68% 84%,
      68% 50%,
      52% 50%,
      52% 55%,
      35% 55%,
      35% 87%,
      25% 87%,
      25% 39%,
      15% 39%,
      15% 88%,
      52% 88%
    );
  }
  30% {
    clip-path: polygon(
      0% 53%,
      93% 53%,
      93% 62%,
      68% 62%,
      68% 37%,
      97% 37%,
      97% 89%,
      13% 89%,
      13% 45%,
      51% 45%,
      51% 88%,
      17% 88%,
      17% 54%,
      81% 54%,
      81% 75%,
      79% 75%,
      79% 76%,
      38% 76%,
      38% 28%,
      61% 28%,
      61% 12%,
      55% 12%,
      55% 62%,
      68% 62%,
      68% 51%,
      0% 51%,
      0% 92%,
      63% 92%,
      63% 4%,
      65% 4%
    );
  }
  45% {
    clip-path: polygon(
      0% 33%,
      2% 33%,
      2% 69%,
      58% 69%,
      58% 94%,
      55% 94%,
      55% 25%,
      33% 25%,
      33% 85%,
      16% 85%,
      16% 19%,
      5% 19%,
      5% 20%,
      79% 20%,
      79% 96%,
      93% 96%,
      93% 50%,
      5% 50%,
      5% 74%,
      55% 74%,
      55% 57%,
      96% 57%,
      96% 59%,
      87% 59%,
      87% 65%,
      82% 65%,
      82% 39%,
      63% 39%,
      63% 92%,
      4% 92%,
      4% 36%,
      24% 36%,
      24% 70%,
      1% 70%,
      1% 43%,
      15% 43%,
      15% 28%,
      23% 28%,
      23% 71%,
      90% 71%,
      90% 86%,
      97% 86%,
      97% 1%,
      60% 1%,
      60% 67%,
      71% 67%,
      71% 91%,
      17% 91%,
      17% 14%,
      39% 14%,
      39% 30%,
      58% 30%,
      58% 11%,
      52% 11%,
      52% 83%,
      68% 83%
    );
  }
  1%,
  7%,
  33%,
  47% {
    clip-path: none;
  }
}

@keyframes opacity {
  0% {
    opacity: 0.1;
  }
  5% {
    opacity: 0.7;
  }
  30% {
    opacity: 0.4;
  }
  45% {
    opacity: 0.6;
  }
  1%,
  7%,
  33%,
  47% {
    opacity: 0;
  }
}

$movementBase: 0.1em;
@keyframes movement {
  0% {
    top: 0;
    left: -2 * $movementBase;
  }
  15% {
    top: 1 * $movementBase;
    left: 1 * $movementBase;
  }
}

$movementTranslateBase: 1%;
@keyframes movementTranslate {
  10% {
    translate: $movementTranslateBase (-2 * $movementTranslateBase);
  }
  25% {
    translate: (-1 * $movementTranslateBase) (4 * $movementTranslateBase);
  }
  45% {
    translate: (2 * $movementTranslateBase) $movementTranslateBase;
  }
}

@keyframes font {
  0% {
    font-weight: 100;
    color: #e0287d;
    filter: blur(3px);
  }

  20% {
    font-weight: 500;
    color: #fff;
    filter: blur(0);
  }

  50% {
    font-weight: 300;
    color: #1bc7fb;
    filter: blur(2px);
  }
}

$baseAnimationLength: 3s;
$iterationCount: 0.3;

.glitch-1 {
  animation:
    paths (calc(1 / 2) * $baseAnimationLength) step-end (2 * $iterationCount) normal forwards,
    opacity (calc(1 / 2) * $baseAnimationLength) step-end (2 * $iterationCount) normal forwards,
    movementTranslate $baseAnimationLength step-end $iterationCount normal forwards;
}

.glitch-2 {
  animation:
    paths (calc(1 / 2) * $baseAnimationLength) step-end (2 * $iterationCount) normal forwards,
    opacity (calc(1 / 2) * $baseAnimationLength) step-end (2 * $iterationCount) normal forwards,
    movementTranslate (calc(4 / 5) * $baseAnimationLength) step-end (calc(5 / 4) * $iterationCount)
      normal forwards;
}
